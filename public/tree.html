<!doctype html>
<html>
  <head>
    <style>
    html, body{margin:0px;padding:0px;width:100%;height:100%;text-align:center;}
    body>*{margin:0px auto;}
    </style>
    <script
      type="text/javascript"
      src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"
    ></script>
    <script type="text/javascript" src="./js/easing.js" ></script>
    <script type="text/javascript" src="./js/async-stack.js" ></script>
    <script type="text/javascript" src="./js/color-blend.js" ></script>
    <script type="text/javascript" src="./js/phytree.js" ></script>
  </head>
  <body>
    <canvas
      id="thecanvas"
      style="position:fixed;top:0;left:0;"
      width="900"
      height="640"
    ></canvas>

    <script type="text/javascript">
      var colors = blendColors("#7a5230", "#44ae40", 8, "easeInOutQuint")
      .concat(
        blendColors("#44ae40", "#fab3fb", 9, "easeOutQuint").slice(1)
      );
      var canvas = document.getElementById("thecanvas");
      window.addEventListener("load", ()=>{
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;
        drawTreeOnCanvas(canvas);
      })
      window.addEventListener("resize", ()=>{
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;
        drawTreeOnCanvas(canvas);
      })

      function drawTreeOnCanvas(canvas){
        // var colors1 = blendColors("#FF7800", "#FFFF00", 8, "easeInOutQuint");
        // var colors2 = blendColors("#FFFF00", "#00FF00", 9, "easeOutQuint");
        console.log(JSON.stringify(colors));
        var obj = new PhyTree(
          canvas, colors
        );
        rnfn = obj.draw.bind(obj);
        while(true) rnfn();
      }


    </script>

  </body>
</html>
